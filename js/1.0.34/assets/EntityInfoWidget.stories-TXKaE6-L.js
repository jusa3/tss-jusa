import{z as Rt,B as $t,C as zt,F as Jt,G as Mt,H as Ht,p as Ut,I as Qt,J as Xt,K as Kt,v as Vt,Q as Zt,f as qt,g as Yt,O as Gt,h as te,w as ee,y as oe,x as k,L as ae,M as ne,N as ie,R as re,S as F,T as se,U as ge,V as T,W as ce,X as le,Y as _,Z as ye}from"./storyArgs-D6apI4ht.js";import{Z as Nt,E as x}from"./globals-BpbGe8p9.js";import{j as t,c as de}from"./index-CossuYGe.js";import{g as p,a as E,b as v,c as R}from"./StructureRendering-s9on-pGJ.js";import{E as N}from"./flex_item-NGRFq6S7.js";import"./preload-helper-Dp1pzeXC.js";import"./icon_tip-DknG74Nq.js";const{expect:me,waitFor:Te,within:ue}=__STORYBOOK_MODULE_TEST__,ve={...Vt,...Kt,...Xt,...Qt,...Ut,...Ht,...Mt,...Jt,...zt,...$t,...Rt},d={api:Nt,iri:"",useLegacy:!0,ontologyId:"",entityType:"term",hasTitle:!0,showBadges:!0,parameter:"",onNavigateToEntity:"Console message",onNavigateToOntology:"Console message",onNavigateToDisambiguate:"Console message"},Ne={...d,iri:"http://purl.obolibrary.org/obo/NCIT_C2985",entityType:"term",ontologyId:"ncit",hasTitle:!0},he={...d,iri:"http://www.w3.org/2004/02/skos/core#altLabel",entityType:"property",ontologyId:"mesh"},fe={...d,iri:"http://purl.obolibrary.org/obo/IAO_0000423",entityType:"individual",ontologyId:"clo"},Ee={...d,api:x,useLegacy:!1,entityType:"class",iri:"http://purl.obolibrary.org/obo/UBERON_0000006",ontologyId:"uberon"},xe={...d,api:Nt,iri:"http://purl.obolibrary.org/obo/NCIT_C88403"},pe={...d,api:x,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/NCIT_R89"},je={...d,api:x,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/RO_0002029"},Ie={...d,api:x,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/ENVO_01001569"},be={...d,api:x,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/MICRO_0001603"},Oe={...d,api:x,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/ENVO_01001569",onNavigateToEntity:"Navigate to EBI page",onNavigateToOntology:"Navigate to EBI page",onNavigateToDisambiguate:"Navigate to EBI page"},u=async({canvasElement:e})=>{const c=ue(e);await Te(async()=>{const h=c.getByTestId("entity-info");await me(h).toBeInTheDocument()},{timeout:3e3})},Ae=!0;function we(e){const{api:c,iri:h,ontologyId:ht,hasTitle:ft=Ae,entityType:L,parameter:Et,showBadges:n,useLegacy:xt,onNavigateToEntity:Le,onNavigateToOntology:Fe,onNavigateToDisambiguate:_e,...pt}=e,jt=new Gt(c),{data:s,isLoading:It,isSuccess:B,isError:bt,error:Ot}=te(["entityInfo",e],()=>jt.getEntityObject(h,L,ht,Et,xt));function At(o){return t.jsx(t.Fragment,{children:o.getLabel()&&t.jsxs(t.Fragment,{children:[t.jsxs(N,{children:[t.jsx("b",{children:"Label:"}),o.getLabel()]}),t.jsx(ge,{})]})})}function wt(o){return t.jsx(t.Fragment,{children:o.getSynonyms().length>0&&t.jsx(t.Fragment,{children:t.jsxs(N,{children:[t.jsx("b",{children:"Synonyms:"}),o.getSynonyms().length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:o.getSynonyms().map(a=>t.jsx("li",{id:a.value,children:p(o,a,n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})},T()))}),t.jsx("p",{})]}):t.jsx("p",{children:p(o,o.getSynonyms()[0],n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})})]})})})}function Dt(o){const a=o.getHasKey();return t.jsx(t.Fragment,{children:a.length>0&&t.jsx(t.Fragment,{children:t.jsxs(N,{children:[t.jsx("b",{children:"Has Key:"}),a.length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:a.map(g=>t.jsx("li",{children:v(o,o.getLinkedEntities(),g,n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})},T()))}),t.jsx("p",{})]}):t.jsx("p",{children:v(o,o.getLinkedEntities(),a[0],n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})})]})})})}function Pt(o){return t.jsx(t.Fragment,{children:o.getSubsets().length>0&&t.jsx(t.Fragment,{children:t.jsxs(N,{children:[t.jsx("b",{children:"In Subsets:"}),o.getSubsets().length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:o.getSubsets().map(a=>t.jsx("li",{id:a+T(),children:E(o,o.getLinkedEntities(),a,n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})},T()))}),t.jsx("p",{})]}):t.jsx("p",{children:E(o,o.getLinkedEntities(),o.getSubsets()[0],n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})})]})})})}function St(o){const a=o.getRdfTypes().map(g=>({"http://www.w3.org/2002/07/owl#FunctionalProperty":"Functional","http://www.w3.org/2002/07/owl#InverseFunctionalProperty":"Inverse Functional","http://www.w3.org/2002/07/owl#TransitiveProperty":"Transitive","http://www.w3.org/2002/07/owl#SymmetricProperty":"Symmetric","http://www.w3.org/2002/07/owl#AsymmetricProperty":"Asymmetric","http://www.w3.org/2002/07/owl#ReflexiveProperty":"Reflexive","http://www.w3.org/2002/07/owl#IrreflexiveProperty":"Irreflexive"})[g]).filter(g=>!!g);return t.jsx(t.Fragment,{children:a.length>0&&t.jsx(t.Fragment,{children:t.jsxs(N,{children:[t.jsx("b",{children:"Characteristics:"}),a.length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:a.map(g=>t.jsx("li",{children:g},T())).sort()}),t.jsx("p",{})]}):t.jsx("p",{children:a[0]})]})})})}function Wt(o){const a=o.getDomain();return t.jsx(t.Fragment,{children:a.length>0&&t.jsx(t.Fragment,{children:t.jsxs(N,{children:[t.jsx("b",{children:"Domain:"}),a.length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:a.map(g=>t.jsx("li",{children:v(o,o.getLinkedEntities(),g,n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})},T()))}),t.jsx("p",{})]}):t.jsx("p",{children:v(o,o.getLinkedEntities(),a[0],n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})})]})})})}function Lt(o){const a=o.getRange();return t.jsx(t.Fragment,{children:a.length>0&&t.jsxs(N,{children:[t.jsx("b",{children:"Range:"}),a.length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:a.map(g=>t.jsx("li",{children:v(o,o.getLinkedEntities(),g,n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})},T()))}),t.jsx("p",{})]}):t.jsx("p",{children:v(o,o.getLinkedEntities(),a[0],n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})})]})})}function Ft(o){const a=Object.keys(o.properties),g=a.filter(r=>r.startsWith("negativePropertyAssertion+")),C=a.filter(r=>{var l;return o.getLinkedEntities().get(r)&&((l=o.getLinkedEntities().get(r))==null?void 0:l.type.indexOf("objectProperty"))!==-1}),f=a.filter(r=>{var l;return o.getLinkedEntities().get(r)&&((l=o.getLinkedEntities().get(r))==null?void 0:l.type.indexOf("dataProperty"))!==-1}),m=[];for(const r of C){const l=_(o.properties[r]);for(const i of l)m.push(t.jsxs(t.Fragment,{children:[v(o,o.getLinkedEntities(),r,n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate}),typeof i=="string"&&i.includes("http")?t.jsxs(t.Fragment,{children:[" ",t.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",E(o,o.getLinkedEntities(),i,n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})]}):R(typeof i=="string"?i:typeof i=="object"&&!Array.isArray(i)&&i.value?JSON.stringify(i.value):JSON.stringify(i))]}))}for(const r of f){const l=_(o.properties[r]);for(const i of l)m.push(t.jsxs(t.Fragment,{children:[v(o,o.getLinkedEntities(),r,n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate}),t.jsxs(t.Fragment,{children:[" ",t.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",E(o,o.getLinkedEntities(),i,n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})]})]}))}for(const r of g){const l=r.slice(26),i=o.getLinkedEntities().get(l),Bt=(i==null?void 0:i.type.indexOf("dataProperty"))!==-1,Ct=(i==null?void 0:i.type.indexOf("objectProperty"))!==-1,kt=_(o.properties[r]);for(const y of kt)m.push(t.jsxs(t.Fragment,{children:[t.jsx("i",{style:{color:"purple"},children:"not"})," ",v(o,o.getLinkedEntities(),l,n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate}),typeof y=="string"&&y.includes("http")?t.jsxs(t.Fragment,{children:[" ",t.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",E(o,o.getLinkedEntities(),y,n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})]}):Ct?R(typeof y=="string"?y:typeof y=="object"&&!Array.isArray(y)&&y.value?JSON.stringify(y.value):JSON.stringify(y)):Bt?t.jsxs(t.Fragment,{children:[" ",t.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",E(o,o.getLinkedEntities(),y,n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})]}):t.jsx(t.Fragment,{})]}))}return t.jsx(t.Fragment,{children:m.length>0&&t.jsx(t.Fragment,{children:t.jsxs(N,{children:[t.jsx("b",{children:"Property assertions:"}),m.length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:m.map(r=>t.jsx("li",{children:r},T())).sort()}),t.jsx("p",{})]}):t.jsx("p",{children:m[0]})]})})})}function _t(o){return t.jsx(t.Fragment,{children:o.getAnnotationPredicates().map((a,g,C)=>{const f=o.getAnnotationById(a);return f.length==0?t.jsx(t.Fragment,{}):t.jsx(t.Fragment,{children:t.jsxs(N,{grow:!1,children:[t.jsxs("b",{children:[F(ce(le(o.getAnnotationTitleById(a)))),":"]}),f.length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:f.map(m=>t.jsx("li",{id:m.value,children:p(o,m,n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})},T()))}),t.jsx("p",{})]}):t.jsx("p",{children:p(o,f[0],n,{onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})},T())]},a)})})})}return t.jsx(t.Fragment,{children:t.jsxs(ee,{"data-testid":"entity-info",title:ft?(L?F(se(L)):B&&s?F(s.getType()):"")+" Information":"",layout:"horizontal",children:[It&&t.jsx(oe,{size:"s"}),B&&s!==void 0&&t.jsxs(k,{...pt,children:[At(s),wt(s),ae(s)&&t.jsxs(t.Fragment,{children:[Pt(s),Dt(s)]}),ne(s)&&t.jsxs(t.Fragment,{children:[St(s),Wt(s),Lt(s)]}),ie(s)&&t.jsx(t.Fragment,{children:Ft(s)}),_t(s)]}),bt&&t.jsx(k,{children:re(Ot,"information")})]})})}function De(e){const c=new Zt;return t.jsx(qt,{colorMode:"light",children:t.jsx(Yt,{client:c,children:t.jsx(we,{api:e.api,iri:e.iri,ontologyId:e.ontologyId,hasTitle:e.hasTitle,entityType:e.entityType,parameter:e.parameter,useLegacy:e.useLegacy,showBadges:e.showBadges,onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate})})})}const $=new WeakMap;function Pe(e,c){let h=$.get(c);h||(h=de.createRoot(c),$.set(c,h)),h.render(t.jsx(De,{...e}))}window.ts4nfdiWidgets={...window.ts4nfdiWidgets,createEntityInfo:Pe};let Se=0;function We(){return Se++}const Me={title:"Additional Entity Metadata/EntityInfoWidget",tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:ye}}},render:e=>{const c=We();return`        
<div id="entity_info_widget_container_${c}"></div>

<script type="text/javascript">
window['ts4nfdiWidgets'].createEntityInfo(
    {
        api:"${e.api}",
        iri:"${e.iri}",
        ontologyId:"${e.ontologyId}",
        hasTitle:${e.hasTitle},
        entityType:"${e.entityType}",
        parameter:"${e.parameter}",
        useLegacy:${e.useLegacy},
        onNavigateToEntity:${e.onNavigateToEntity},
        onNavigateToOntology:${e.onNavigateToOntology},
        onNavigateToDisambiguate:${e.onNavigateToDisambiguate}
    },
    document.querySelector('#entity_info_widget_container_${c}')
)
<\/script>
        `},argTypes:ve,args:d},j={args:Ne,play:u},I={args:he,play:u},b={args:fe,play:u},O={args:Ee,play:u},A={args:xe,play:u},w={args:pe,play:u},D={args:je,play:u},P={args:Ie,play:u},S={args:be,play:u},W={args:Oe,play:u};var z,J,M;j.parameters={...j.parameters,docs:{...(z=j.parameters)==null?void 0:z.docs,source:{originalSource:`{
  args: TermInfoWidgetArgs,
  play: commonEntityInfoWidgetPlay
}`,...(M=(J=j.parameters)==null?void 0:J.docs)==null?void 0:M.source}}};var H,U,Q;I.parameters={...I.parameters,docs:{...(H=I.parameters)==null?void 0:H.docs,source:{originalSource:`{
  args: PropertyInfoWidgetArgs,
  play: commonEntityInfoWidgetPlay
}`,...(Q=(U=I.parameters)==null?void 0:U.docs)==null?void 0:Q.source}}};var X,K,V;b.parameters={...b.parameters,docs:{...(X=b.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: IndividualInfoWidgetArgs,
  play: commonEntityInfoWidgetPlay
}`,...(V=(K=b.parameters)==null?void 0:K.docs)==null?void 0:V.source}}};var Z,q,Y;O.parameters={...O.parameters,docs:{...(Z=O.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: InfoWidgetBadgesArgs,
  play: commonEntityInfoWidgetPlay
}`,...(Y=(q=O.parameters)==null?void 0:q.docs)==null?void 0:Y.source}}};var G,tt,et;A.parameters={...A.parameters,docs:{...(G=A.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: OptionalEntityTypeLegacyAPIArgs,
  play: commonEntityInfoWidgetPlay
}`,...(et=(tt=A.parameters)==null?void 0:tt.docs)==null?void 0:et.source}}};var ot,at,nt;w.parameters={...w.parameters,docs:{...(ot=w.parameters)==null?void 0:ot.docs,source:{originalSource:`{
  args: InfoWidgetDomainArgs,
  play: commonEntityInfoWidgetPlay
}`,...(nt=(at=w.parameters)==null?void 0:at.docs)==null?void 0:nt.source}}};var it,rt,st;D.parameters={...D.parameters,docs:{...(it=D.parameters)==null?void 0:it.docs,source:{originalSource:`{
  args: InfoWidgetRangeArgs,
  play: commonEntityInfoWidgetPlay
}`,...(st=(rt=D.parameters)==null?void 0:rt.docs)==null?void 0:st.source}}};var gt,ct,lt;P.parameters={...P.parameters,docs:{...(gt=P.parameters)==null?void 0:gt.docs,source:{originalSource:`{
  args: InfoWidgetPropertyAssertionArgs,
  play: commonEntityInfoWidgetPlay
}`,...(lt=(ct=P.parameters)==null?void 0:ct.docs)==null?void 0:lt.source}}};var yt,dt,mt;S.parameters={...S.parameters,docs:{...(yt=S.parameters)==null?void 0:yt.docs,source:{originalSource:`{
  args: InfoWidgetPropertyCharacteristicsArgs,
  play: commonEntityInfoWidgetPlay
}`,...(mt=(dt=S.parameters)==null?void 0:dt.docs)==null?void 0:mt.source}}};var Tt,ut,vt;W.parameters={...W.parameters,docs:{...(Tt=W.parameters)==null?void 0:Tt.docs,source:{originalSource:`{
  args: NavigateToEBIPageArgs,
  play: commonEntityInfoWidgetPlay
}`,...(vt=(ut=W.parameters)==null?void 0:ut.docs)==null?void 0:vt.source}}};const He=["TermInfoWidget","PropertyInfoWidget","IndividualInfoWidget","InfoWidgetBadges","OptionalEntityTypeLegacyAPI","InfoWidgetDomain","InfoWidgetRange","InfoWidgetPropertyAssertion","InfoWidgetPropertyCharacteristics","NavigateToEBIPage"];export{b as IndividualInfoWidget,O as InfoWidgetBadges,w as InfoWidgetDomain,P as InfoWidgetPropertyAssertion,S as InfoWidgetPropertyCharacteristics,D as InfoWidgetRange,W as NavigateToEBIPage,A as OptionalEntityTypeLegacyAPI,I as PropertyInfoWidget,j as TermInfoWidget,He as __namedExportsOrder,Me as default};

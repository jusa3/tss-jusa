import{E as c}from"./globals-BpbGe8p9.js";import{z as wt,B as Rt,C as Bt,H as Ft,J as Pt,p as _t,F as Wt,I as Ct,K as Lt,v as Jt,Q as Xt,f as qt,g as kt,O as $t,h as J,w as Vt,y as Qt,x as B,S as X,T as zt,N as Mt,M as F,L as p,U as Ut,V as T,Y as q,_ as Kt}from"./storyArgs-D6apI4ht.js";import{j as e,c as Gt}from"./index-CossuYGe.js";import{d as h,g as w,b as St,a as Ht}from"./StructureRendering-s9on-pGJ.js";import{E as y}from"./flex_item-NGRFq6S7.js";import"./preload-helper-Dp1pzeXC.js";import"./icon_tip-DknG74Nq.js";const{expect:Yt,waitFor:Zt,within:te}=__STORYBOOK_MODULE_TEST__,ee={...Jt,...Lt,...Ct,...Wt,..._t,...Pt,...Ft,...Bt,...Rt,...wt},ae={api:"https://semanticlookup.zbmed.de/api/",iri:"",ontologyId:"",entityType:"term",hasTitle:!0,showBadges:!0,parameter:"",onNavigateToEntity:"Console message",onNavigateToOntology:"Console message",onNavigateToDisambiguate:"Console message"},oe={api:c,entityType:"term",ontologyId:"agro",iri:"http://purl.obolibrary.org/obo/AGRO_00000002"},ie={api:c,entityType:"term",ontologyId:"go",iri:"http://purl.obolibrary.org/obo/BFO_0000004"},ne={api:c,entityType:"individual",ontologyId:"bco",iri:"http://purl.obolibrary.org/obo/IAO_0000120"},se={api:c,entityType:"term",ontologyId:"go",iri:"http://purl.obolibrary.org/obo/GO_0048021"},re={api:c,entityType:"term",ontologyId:"bfo",iri:"http://purl.obolibrary.org/obo/BFO_0000001"},ge={api:c,entityType:"property",ontologyId:"ro",iri:"http://purl.obolibrary.org/obo/RO_0000057"},le={api:c,entityType:"property",ontologyId:"ro",iri:"http://purl.obolibrary.org/obo/RO_0002170"},ce={api:c,entityType:"term",ontologyId:"iao",iri:"http://purl.obolibrary.org/obo/IAO_0000078"},de={api:c,entityType:"term",ontologyId:"aism",iri:"http://purl.obolibrary.org/obo/UBERON_0000006"},ye={api:c,entityType:"term",ontologyId:"foodon",iri:"http://purl.obolibrary.org/obo/FOODON_00003382"},ue={api:c,entityType:"individual",ontologyId:"bco",iri:"http://purl.obolibrary.org/obo/IAO_0000120",onNavigateToEntity:"Navigate to EBI page",onNavigateToOntology:"Navigate to EBI page",onNavigateToDisambiguate:"Navigate to EBI page"},d=async({canvasElement:t})=>{const a=te(t);await Zt(async()=>{const o=a.getByTestId("entity-relations");await Yt(o).toBeInTheDocument()},{timeout:3e3})},me=!0;function Te(t,a){const o=t.getRdfTypes().filter(i=>i!=="http://www.w3.org/2002/07/owl#NamedIndividual"&&!i.startsWith("http://www.w3.org/2000/01/rdf-schema#"));if(t.getRdfTypes().length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Type"}),h(t,t.getLinkedEntities(),o,a.showBadges,{onNavigateToEntity:a.onNavigateToEntity,onNavigateToOntology:a.onNavigateToOntology,onNavigateToDisambiguate:a.onNavigateToDisambiguate})]})}function ve(t,a){const o=t.getSameAs();if(o.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Same As"}),h(t,t.getLinkedEntities(),o,a.showBadges,{onNavigateToEntity:a.onNavigateToEntity,onNavigateToOntology:a.onNavigateToOntology,onNavigateToDisambiguate:a.onNavigateToDisambiguate})]})}function he(t,a){const o=t.getDifferentFrom();if(o.length>0)return e.jsxs(e.Fragment,{children:[e.jsx(Ut,{}),e.jsxs(y,{children:[e.jsx("b",{children:"Different from"}),h(t,t.getLinkedEntities(),o,a.showBadges,{onNavigateToEntity:a.onNavigateToEntity,onNavigateToOntology:a.onNavigateToOntology,onNavigateToDisambiguate:a.onNavigateToDisambiguate})]})]})}function pe(t,a){const o=t.getDisjointWith();if(o.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Disjoint with"}),h(t,t.getLinkedEntities(),o,a.showBadges,{onNavigateToEntity:a.onNavigateToEntity,onNavigateToOntology:a.onNavigateToOntology,onNavigateToDisambiguate:a.onNavigateToDisambiguate})]})}function Ee(t,a){const o=t.getInverseOf();if(o.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Inverse of"}),h(t,t.getLinkedEntities(),o,a.showBadges,{onNavigateToEntity:a.onNavigateToEntity,onNavigateToOntology:a.onNavigateToOntology,onNavigateToDisambiguate:a.onNavigateToDisambiguate})]})}function k(t,a,o){return q(t).slice().reverse().map((i,n)=>e.jsxs("span",{children:[St(a,a.getLinkedEntities(),i,o.showBadges,{onNavigateToEntity:o.onNavigateToEntity,onNavigateToOntology:o.onNavigateToOntology,onNavigateToDisambiguate:o.onNavigateToDisambiguate}),e.jsx(e.Fragment,{children:n<q(t).length-1&&e.jsx("span",{style:{fontSize:"medium",color:"gray"},children:" ◂ "})})]},i))}function Ne(t,a){const o=t.getPropertyChains().map(n=>n.value),i=o.filter(n=>Array.isArray(n)).length>0;if(o.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:i?"Property chains":"Property chain"}),i?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:o.map(n=>e.jsx("li",{children:k(n,t,a)},T()))}),e.jsx("p",{})]}):e.jsx("p",{children:k(o,t,a)})]})}function fe(t,a){const o=t.getEquivalents();if(o.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Equivalent to"}),o.length===1?e.jsx("p",{children:w(t,o[0],a.showBadges,{onNavigateToEntity:a.onNavigateToEntity,onNavigateToOntology:a.onNavigateToOntology,onNavigateToDisambiguate:a.onNavigateToDisambiguate})}):e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:o.map(i=>e.jsx("li",{children:w(t,i,a.showBadges,{onNavigateToEntity:a.onNavigateToEntity,onNavigateToOntology:a.onNavigateToOntology,onNavigateToDisambiguate:a.onNavigateToDisambiguate})},T()))}),e.jsx("p",{})]})]})}function be(t,a){const o=t.getSuperEntities();if(o.length>0)return e.jsxs(y,{children:[e.jsxs("b",{children:["Sub",t.getType()," of"]}),o.length===1?e.jsx("p",{children:w(t,o[0],a.showBadges,{onNavigateToEntity:a.onNavigateToEntity,onNavigateToOntology:a.onNavigateToOntology,onNavigateToDisambiguate:a.onNavigateToDisambiguate})}):e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:o.map(i=>e.jsx("li",{children:w(t,i,a.showBadges,{onNavigateToEntity:a.onNavigateToEntity,onNavigateToOntology:a.onNavigateToOntology,onNavigateToDisambiguate:a.onNavigateToDisambiguate})},T()))}),e.jsx("p",{})]})]})}function Se(t,a){const o=t.getRelatedFrom(),i=Array.from(new Set(o.map(n=>n.value.property)));if(o.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Related from"}),i.map(n=>{const R=t.getLinkedEntities().getLabelForIri(n);return e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("a",{style:{color:"black"},href:n,children:e.jsx("i",{children:R||n})})}),e.jsxs(e.Fragment,{children:[e.jsx("ul",{style:{marginBottom:0},children:o.filter(u=>u.value.property===n).map(u=>e.jsx("li",{children:St(t,t.getLinkedEntities(),u.value.value,a.showBadges,{onNavigateToEntity:a.onNavigateToEntity,onNavigateToOntology:a.onNavigateToOntology,onNavigateToDisambiguate:a.onNavigateToDisambiguate})},T()))}),e.jsx("p",{})]}),e.jsx("p",{})," "]},n.toString()+T())})]})}function xe(t,a,o){if(a.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Instances"}),e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:a.map(i=>e.jsx("li",{children:Ht(t,t.getLinkedEntities(),i.getIri(),o.showBadges,{onNavigateToEntity:o.onNavigateToEntity,onNavigateToOntology:o.onNavigateToOntology,onNavigateToDisambiguate:o.onNavigateToDisambiguate})},T()))}),e.jsx("p",{})]})]})}function je(t){const{api:a,iri:o,ontologyId:i,hasTitle:n=me,showBadges:R,entityType:u,parameter:P,onNavigateToEntity:we,onNavigateToDisambiguate:Re,onNavigateToOntology:Be,..._}=t,W=new $t(a),{data:l,isLoading:xt,isSuccess:C,isError:jt}=J(["entityJson",a,o,i,u,P,R],async()=>W.getEntityObject(o,u,i,P,!1)),{data:L,isLoading:Ot,isSuccess:It}=J({queryKey:["instances",l],queryFn:async()=>l&&p(l)&&l.hasDirectChildren()?W.getClassInstances(l.getIri(),l.getOntologyId()):[],enabled:!!l});function At(s,Dt){const g=[];if(Mt(s)){const r=Te(s,t);r!=null&&g.push(r);const m=ve(s,t);m!=null&&g.push(m);const v=he(s,t);v!=null&&g.push(v)}if(F(s)||p(s)){const r=pe(s,t);r!=null&&g.push(r)}if(F(s)){const r=Ee(s,t);r!=null&&g.push(r);const m=Ne(s,t);m!=null&&g.push(m)}if(F(s)||p(s)){const r=fe(s,t);r!=null&&g.push(r);const m=be(s,t);m!=null&&g.push(m);const v=Se(s,t);v!=null&&g.push(v)}if(p(s)){const r=xe(s,Dt,t);r!=null&&g.push(r)}return g.length>0?e.jsx(B,{..._,children:g}):e.jsx(B,{..._,children:"No relations available."})}return e.jsx(e.Fragment,{children:e.jsxs(Vt,{"data-testid":"entity-relations",title:n?(u?X(zt(u)):C&&l?X(l.getType()):"")+" Relations":"",layout:"horizontal",children:[(xt||Ot)&&e.jsx(Qt,{size:"s"}),jt&&e.jsx(B,{children:"Requested resource not available"}),C&&It&&l!==void 0&&L!==void 0&&At(l,L)]})})}function Oe(t){const a=new Xt;return e.jsx(qt,{colorMode:"light",children:e.jsx(kt,{client:a,children:e.jsx(je,{api:t.api,iri:t.iri,ontologyId:t.ontologyId,hasTitle:t.hasTitle,entityType:t.entityType,parameter:t.parameter,showBadges:t.showBadges,onNavigateToEntity:t.onNavigateToEntity,onNavigateToOntology:t.onNavigateToOntology,onNavigateToDisambiguate:t.onNavigateToDisambiguate})})})}const $=new WeakMap;function Ie(t,a){let o=$.get(a);o||(o=Gt.createRoot(a),$.set(a,o)),o.render(e.jsx(Oe,{...t}))}window.ts4nfdiWidgets={...window.ts4nfdiWidgets,createEntityRelations:Ie};let Ae=0;function De(){return Ae++}const Xe={title:"Additional Entity Metadata/EntityRelationsWidget",tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:Kt}}},render:t=>{const a=De();return`
<div id="autocomplete_widget_container_${a}"></div>

<script type="text/javascript">
window['ts4nfdiWidgets'].createEntityRelations(
    {
        api:"${t.api}",
        entityType:"${t.entityType}",
        ontologyId:"${t.ontologyId}",
        iri:"${t.iri}",
        hasTitle:${t.hasTitle},
        showBadges:${t.showBadges},
        parameter:"${t.parameter}",
        onNavigateToEntity:${t.onNavigateToEntity},
        onNavigateToOntology:${t.onNavigateToOntology},
        onNavigateToDisambiguate:${t.onNavigateToDisambiguate}
    },
    document.querySelector('#autocomplete_widget_container_${a}')
)
<\/script>
        `},argTypes:ee,args:ae},E={args:oe,play:d},N={args:ie,play:d},f={args:ne,play:d},b={args:se,play:d},S={args:re,play:d},x={args:ge,play:d},j={args:le,play:d},O={args:ce,play:d},I={args:de,play:d},A={args:ye,play:d},D={args:ue,play:d};var V,Q,z;E.parameters={...E.parameters,docs:{...(V=E.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: SubEntityOfArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(z=(Q=E.parameters)==null?void 0:Q.docs)==null?void 0:z.source}}};var M,U,K;N.parameters={...N.parameters,docs:{...(M=N.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: AllValuesFromArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(K=(U=N.parameters)==null?void 0:U.docs)==null?void 0:K.source}}};var G,H,Y;f.parameters={...f.parameters,docs:{...(G=f.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: DifferentFromArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(Y=(H=f.parameters)==null?void 0:H.docs)==null?void 0:Y.source}}};var Z,tt,et;b.parameters={...b.parameters,docs:{...(Z=b.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: EquivalentToArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(et=(tt=b.parameters)==null?void 0:tt.docs)==null?void 0:et.source}}};var at,ot,it;S.parameters={...S.parameters,docs:{...(at=S.parameters)==null?void 0:at.docs,source:{originalSource:`{
  args: SingleValueArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(it=(ot=S.parameters)==null?void 0:ot.docs)==null?void 0:it.source}}};var nt,st,rt;x.parameters={...x.parameters,docs:{...(nt=x.parameters)==null?void 0:nt.docs,source:{originalSource:`{
  args: InverseOfArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(rt=(st=x.parameters)==null?void 0:st.docs)==null?void 0:rt.source}}};var gt,lt,ct;j.parameters={...j.parameters,docs:{...(gt=j.parameters)==null?void 0:gt.docs,source:{originalSource:`{
  args: PropertyChainArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(ct=(lt=j.parameters)==null?void 0:lt.docs)==null?void 0:ct.source}}};var dt,yt,ut;O.parameters={...O.parameters,docs:{...(dt=O.parameters)==null?void 0:dt.docs,source:{originalSource:`{
  args: InstancesArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(ut=(yt=O.parameters)==null?void 0:yt.docs)==null?void 0:ut.source}}};var mt,Tt,vt;I.parameters={...I.parameters,docs:{...(mt=I.parameters)==null?void 0:mt.docs,source:{originalSource:`{
  args: AxiomsArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(vt=(Tt=I.parameters)==null?void 0:Tt.docs)==null?void 0:vt.source}}};var ht,pt,Et;A.parameters={...A.parameters,docs:{...(ht=A.parameters)==null?void 0:ht.docs,source:{originalSource:`{
  args: QualifiedCardinalityArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(Et=(pt=A.parameters)==null?void 0:pt.docs)==null?void 0:Et.source}}};var Nt,ft,bt;D.parameters={...D.parameters,docs:{...(Nt=D.parameters)==null?void 0:Nt.docs,source:{originalSource:`{
  args: NavigateToEBIPageArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(bt=(ft=D.parameters)==null?void 0:ft.docs)==null?void 0:bt.source}}};const qe=["SubEntityOf","AllValuesFrom","DifferentFrom","EquivalentTo","SingleValue","InverseOf","PropertyChain","Instances","Axioms","QualifiedCardinality","NavigateToEBIPage"];export{N as AllValuesFrom,I as Axioms,f as DifferentFrom,b as EquivalentTo,O as Instances,x as InverseOf,D as NavigateToEBIPage,j as PropertyChain,A as QualifiedCardinality,S as SingleValue,E as SubEntityOf,qe as __namedExportsOrder,Xe as default};

import{b as e}from"./iframe-CTDlrwV_.js";import{O as Re,u as qe,k as ze,m as Je,l as C,n as Me,o as He,q as Ue,r as Ke,v as W,w as Xe,x as m,y as Ve,z as Ze,B as F,C as Ge,F as Qe,G as Ye,H as $e,I as et,J as tt,K as nt,p as it,L as at,M as ot,N as st,j as rt,P as gt}from"./widgetDescriptions-BWQxYL9a.js";import{g as v,a as f,b as T,c as R}from"./StructureRendering-D__qCoUh.js";import{E as u}from"./flex_item-MEW8UGuL.js";import{Z as ue,E as b}from"./globals-BpbGe8p9.js";import"./preload-helper-Dp1pzeXC.js";import"./icon_tip-Drht4bM1.js";const ct=!0;function pe(n){const{api:P,iri:L,ontologyId:fe,hasTitle:be=ct,entityType:k,parameter:ve,showBadges:a,useLegacy:Ne,onNavigateToEntity:It,onNavigateToOntology:jt,onNavigateToDisambiguate:Ot,...Ee}=n,xe=new Re(P),{data:r,isLoading:Ie,isSuccess:B,isError:je,error:Oe}=qe(["entityInfo",n],()=>xe.getEntityObject(L,k,fe,ve,Ne));function Se(t){return e.jsx(e.Fragment,{children:t.getLabel()&&e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx("b",{children:"Label:"}),t.getLabel()]}),e.jsx(Xe,{})]})})}function we(t){return e.jsx(e.Fragment,{children:t.getSynonyms().length>0&&e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsx("b",{children:"Synonyms:"}),t.getSynonyms().length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:t.getSynonyms().map(i=>e.jsx("li",{id:i.value,children:v(t,i,a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},m()))}),e.jsx("p",{})]}):e.jsx("p",{children:v(t,t.getSynonyms()[0],a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})})]})})})}function Ae(t){const i=t.getHasKey();return e.jsx(e.Fragment,{children:i.length>0&&e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsx("b",{children:"Has Key:"}),i.length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:i.map(g=>e.jsx("li",{children:T(t,t.getLinkedEntities(),g,a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},m()))}),e.jsx("p",{})]}):e.jsx("p",{children:T(t,t.getLinkedEntities(),i[0],a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})})]})})})}function De(t){return e.jsx(e.Fragment,{children:t.getSubsets().length>0&&e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsx("b",{children:"In Subsets:"}),t.getSubsets().length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:t.getSubsets().map(i=>e.jsx("li",{id:i+m(),children:f(t,t.getLinkedEntities(),i,a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},m()))}),e.jsx("p",{})]}):e.jsx("p",{children:f(t,t.getLinkedEntities(),t.getSubsets()[0],a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})})]})})})}function Pe(t){const i=t.getRdfTypes().map(g=>({"http://www.w3.org/2002/07/owl#FunctionalProperty":"Functional","http://www.w3.org/2002/07/owl#InverseFunctionalProperty":"Inverse Functional","http://www.w3.org/2002/07/owl#TransitiveProperty":"Transitive","http://www.w3.org/2002/07/owl#SymmetricProperty":"Symmetric","http://www.w3.org/2002/07/owl#AsymmetricProperty":"Asymmetric","http://www.w3.org/2002/07/owl#ReflexiveProperty":"Reflexive","http://www.w3.org/2002/07/owl#IrreflexiveProperty":"Irreflexive"})[g]).filter(g=>!!g);return e.jsx(e.Fragment,{children:i.length>0&&e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsx("b",{children:"Characteristics:"}),i.length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:i.map(g=>e.jsx("li",{children:g},m())).sort()}),e.jsx("p",{})]}):e.jsx("p",{children:i[0]})]})})})}function Le(t){const i=t.getDomain();return e.jsx(e.Fragment,{children:i.length>0&&e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsx("b",{children:"Domain:"}),i.length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:i.map(g=>e.jsx("li",{children:T(t,t.getLinkedEntities(),g,a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},m()))}),e.jsx("p",{})]}):e.jsx("p",{children:T(t,t.getLinkedEntities(),i[0],a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})})]})})})}function ke(t){const i=t.getRange();return e.jsx(e.Fragment,{children:i.length>0&&e.jsxs(u,{children:[e.jsx("b",{children:"Range:"}),i.length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:i.map(g=>e.jsx("li",{children:T(t,t.getLinkedEntities(),g,a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},m()))}),e.jsx("p",{})]}):e.jsx("p",{children:T(t,t.getLinkedEntities(),i[0],a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})})]})})}function We(t){const i=Object.keys(t.properties),g=i.filter(s=>s.startsWith("negativePropertyAssertion+")),_=i.filter(s=>{var c;return t.getLinkedEntities().get(s)&&((c=t.getLinkedEntities().get(s))==null?void 0:c.type.indexOf("objectProperty"))!==-1}),p=i.filter(s=>{var c;return t.getLinkedEntities().get(s)&&((c=t.getLinkedEntities().get(s))==null?void 0:c.type.indexOf("dataProperty"))!==-1}),d=[];for(const s of _){const c=F(t.properties[s]);for(const o of c)d.push(e.jsxs(e.Fragment,{children:[T(t,t.getLinkedEntities(),s,a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate}),typeof o=="string"&&o.includes("http")?e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",f(t,t.getLinkedEntities(),o,a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})]}):R(typeof o=="string"?o:typeof o=="object"&&!Array.isArray(o)&&o.value?JSON.stringify(o.value):JSON.stringify(o))]}))}for(const s of p){const c=F(t.properties[s]);for(const o of c)d.push(e.jsxs(e.Fragment,{children:[T(t,t.getLinkedEntities(),s,a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate}),e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",f(t,t.getLinkedEntities(),o,a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})]})]}))}for(const s of g){const c=s.slice(26),o=t.getLinkedEntities().get(c),Be=(o==null?void 0:o.type.indexOf("dataProperty"))!==-1,_e=(o==null?void 0:o.type.indexOf("objectProperty"))!==-1,Ce=F(t.properties[s]);for(const l of Ce)d.push(e.jsxs(e.Fragment,{children:[e.jsx("i",{style:{color:"purple"},children:"not"})," ",T(t,t.getLinkedEntities(),c,a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate}),typeof l=="string"&&l.includes("http")?e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",f(t,t.getLinkedEntities(),l,a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})]}):_e?R(typeof l=="string"?l:typeof l=="object"&&!Array.isArray(l)&&l.value?JSON.stringify(l.value):JSON.stringify(l)):Be?e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",f(t,t.getLinkedEntities(),l,a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})]}):e.jsx(e.Fragment,{})]}))}return e.jsx(e.Fragment,{children:d.length>0&&e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsx("b",{children:"Property assertions:"}),d.length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:d.map(s=>e.jsx("li",{children:s},m())).sort()}),e.jsx("p",{})]}):e.jsx("p",{children:d[0]})]})})})}function Fe(t){return e.jsx(e.Fragment,{children:t.getAnnotationPredicates().map((i,g,_)=>{const p=t.getAnnotationById(i);return p.length==0?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsxs(u,{grow:!1,children:[e.jsxs("b",{children:[W(Ve(Ze(t.getAnnotationTitleById(i)))),":"]}),p.length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:p.map(d=>e.jsx("li",{id:d.value,children:v(t,d,a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},m()))}),e.jsx("p",{})]}):e.jsx("p",{children:v(t,p[0],a,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},m())]},i)})})})}return e.jsx(e.Fragment,{children:e.jsxs(ze,{"data-testid":"entity-info",title:be?(k?W(Ge(k)):B&&r?W(r.getType()):"")+" Information":"",layout:"horizontal",children:[Ie&&e.jsx(Je,{size:"s"}),B&&r!==void 0&&e.jsxs(C,{...Ee,children:[Se(r),we(r),Me(r)&&e.jsxs(e.Fragment,{children:[De(r),Ae(r)]}),He(r)&&e.jsxs(e.Fragment,{children:[Pe(r),Le(r),ke(r)]}),Ue(r)&&e.jsx(e.Fragment,{children:We(r)}),Fe(r)]}),je&&e.jsx(C,{children:Ke(Oe,"information")})]})})}pe.__docgenInfo={description:"",methods:[],displayName:"EntityInfoWidget",props:{api:{required:!0,tsType:{name:"string"},description:"The API instance for the API call."},entityType:{required:!1,tsType:{name:"entityTypeNames[number]",raw:"typeof entityTypeNames[number]"},description:"Sets the type of the entity whose information you want to fetch."},ontologyId:{required:!1,tsType:{name:"string"},description:"Select a specific ontology by id"},iri:{required:!0,tsType:{name:"string"},description:"Entity IRI whose information you want to fetch."},hasTitle:{required:!1,tsType:{name:"boolean"},description:"Show title, default is true"},showBadges:{required:!1,tsType:{name:"boolean"},description:"If true (default), entity badges linking to their defining ontologies are shown."},parameter:{required:!1,tsType:{name:"string"},description:""},useLegacy:{required:!1,tsType:{name:"boolean"},description:"Toggle between OLS3 (legacy) and OLS4 API versions."},onNavigateToEntity:{required:!1,tsType:{name:"union",raw:`((
  ontologyId: string,
  entityType?: string,
  entity?: EntityData,
) => void) | string`,elements:[{name:"unknown"},{name:"string"}]},description:`This function is called every time an entity link is clicked
@param ontologyId obtains the ontologyId of the current ontology
@param entityType obtains the entityType of the clicked entity
@param entity.iri obtains the iri of the clicked entity
@param entity.label obtains the label of the clicked entity
@param entity.definedBy obtains the list of ontologies the clicked entity is defined in (only OLS)
@param entity.hasChildren obtains a boolean indicating whether the clicked entity has child entities
@param entity.numDescendants obtains the number of hierarchical descendants of the clicked entity (only OLS)
@param entity.parents obtains the list of parent entities of the clicked entity (only OLS, Skosmos)`},onNavigateToOntology:{required:!1,tsType:{name:"union",raw:`((
  ontologyId: string,
  entityType?: string,
  entity?: EntityData,
) => void) | string`,elements:[{name:"unknown"},{name:"string"}]},description:`This function is called every time an entity link is clicked
@param ontologyId obtains the ontologyId of the clicked badge
@param entityType obtains the entityType of the clicked badge
@param entity.iri obtains the iri of the clicked badge (can be empty)
@param entity.label obtains the label of the clicked badge
@param entity.definedBy obtains the list of ontologies the clicked entity is defined in (only OLS)
@param entity.hasChildren obtains a boolean indicating whether the clicked entity has child entities
@param entity.numDescendants obtains the number of hierarchical descendants of the clicked entity (only OLS)
@param entity.parents obtains the list of parent entities of the clicked entity (only OLS, Skosmos)`},onNavigateToDisambiguate:{required:!1,tsType:{name:"union",raw:"((entityType: string, entity?: EntityData) => void) | string",elements:[{name:"unknown"},{name:"string"}]},description:`This function is called every time a disambiguation badge is clicked
@param entityType obtains the entityType of the clicked badge
@param entity.iri obtains the iri of the clicked badge (can be empty)
@param entity.label obtains the label of the clicked badge
@param entity.definedBy obtains the list of ontologies the clicked entity is defined in (only OLS)
@param entity.hasChildren obtains a boolean indicating whether the clicked entity has child entities
@param entity.numDescendants obtains the number of hierarchical descendants of the clicked entity (only OLS)
@param entity.parents obtains the list of parent entities of the clicked entity (only OLS, Skosmos)`}}};const{expect:lt,waitFor:yt,within:dt}=__STORYBOOK_MODULE_TEST__,mt={...rt,...st,...ot,...at,...it,...nt,...tt,...et,...$e,...Ye,...Qe},y={api:ue,iri:"",useLegacy:!0,ontologyId:"",entityType:"term",hasTitle:!0,showBadges:!0,parameter:"",onNavigateToEntity:"Console message",onNavigateToOntology:"Console message",onNavigateToDisambiguate:"Console message"},ht={...y,iri:"http://purl.obolibrary.org/obo/NCIT_C2985",entityType:"term",ontologyId:"ncit",hasTitle:!0},Tt={...y,iri:"http://www.w3.org/2004/02/skos/core#altLabel",entityType:"property",ontologyId:"mesh"},ut={...y,iri:"http://purl.obolibrary.org/obo/IAO_0000423",entityType:"individual",ontologyId:"clo"},pt={...y,api:b,useLegacy:!1,entityType:"class",iri:"http://purl.obolibrary.org/obo/UBERON_0000006",ontologyId:"uberon"},ft={...y,api:ue,iri:"http://purl.obolibrary.org/obo/NCIT_C88403"},bt={...y,api:b,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/NCIT_R89"},vt={...y,api:b,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/RO_0002029"},Nt={...y,api:b,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/ENVO_01001569"},Et={...y,api:b,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/MICRO_0001603"},xt={...y,api:b,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/ENVO_01001569",onNavigateToEntity:"Navigate to EBI page",onNavigateToOntology:"Navigate to EBI page",onNavigateToDisambiguate:"Navigate to EBI page"},h=async({canvasElement:n})=>{const P=dt(n);await yt(async()=>{const L=P.getByTestId("entity-info");await lt(L).toBeInTheDocument()},{timeout:3e3})},Wt={title:"Additional Entity Metadata/EntityInfoWidget",tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:gt}}},component:pe,argTypes:mt,args:y},N={args:ht,play:h},E={args:Tt,play:h},x={args:ut,play:h},I={args:pt,play:h},j={args:ft,play:h},O={args:bt,play:h},S={args:vt,play:h},w={args:Nt,play:h},A={args:Et,play:h},D={args:xt,play:h};var q,z,J;N.parameters={...N.parameters,docs:{...(q=N.parameters)==null?void 0:q.docs,source:{originalSource:`{
  args: TermInfoWidgetArgs,
  play: commonEntityInfoWidgetPlay
}`,...(J=(z=N.parameters)==null?void 0:z.docs)==null?void 0:J.source}}};var M,H,U;E.parameters={...E.parameters,docs:{...(M=E.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: PropertyInfoWidgetArgs,
  play: commonEntityInfoWidgetPlay
}`,...(U=(H=E.parameters)==null?void 0:H.docs)==null?void 0:U.source}}};var K,X,V;x.parameters={...x.parameters,docs:{...(K=x.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: IndividualInfoWidgetArgs,
  play: commonEntityInfoWidgetPlay
}`,...(V=(X=x.parameters)==null?void 0:X.docs)==null?void 0:V.source}}};var Z,G,Q;I.parameters={...I.parameters,docs:{...(Z=I.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: InfoWidgetBadgesArgs,
  play: commonEntityInfoWidgetPlay
}`,...(Q=(G=I.parameters)==null?void 0:G.docs)==null?void 0:Q.source}}};var Y,$,ee;j.parameters={...j.parameters,docs:{...(Y=j.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  args: OptionalEntityTypeLegacyAPIArgs,
  play: commonEntityInfoWidgetPlay
}`,...(ee=($=j.parameters)==null?void 0:$.docs)==null?void 0:ee.source}}};var te,ne,ie;O.parameters={...O.parameters,docs:{...(te=O.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: InfoWidgetDomainArgs,
  play: commonEntityInfoWidgetPlay
}`,...(ie=(ne=O.parameters)==null?void 0:ne.docs)==null?void 0:ie.source}}};var ae,oe,se;S.parameters={...S.parameters,docs:{...(ae=S.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: InfoWidgetRangeArgs,
  play: commonEntityInfoWidgetPlay
}`,...(se=(oe=S.parameters)==null?void 0:oe.docs)==null?void 0:se.source}}};var re,ge,ce;w.parameters={...w.parameters,docs:{...(re=w.parameters)==null?void 0:re.docs,source:{originalSource:`{
  args: InfoWidgetPropertyAssertionArgs,
  play: commonEntityInfoWidgetPlay
}`,...(ce=(ge=w.parameters)==null?void 0:ge.docs)==null?void 0:ce.source}}};var le,ye,de;A.parameters={...A.parameters,docs:{...(le=A.parameters)==null?void 0:le.docs,source:{originalSource:`{
  args: InfoWidgetPropertyCharacteristicsArgs,
  play: commonEntityInfoWidgetPlay
}`,...(de=(ye=A.parameters)==null?void 0:ye.docs)==null?void 0:de.source}}};var me,he,Te;D.parameters={...D.parameters,docs:{...(me=D.parameters)==null?void 0:me.docs,source:{originalSource:`{
  args: NavigateToEBIPageArgs,
  play: commonEntityInfoWidgetPlay
}`,...(Te=(he=D.parameters)==null?void 0:he.docs)==null?void 0:Te.source}}};const Ft=["TermInfoWidget","PropertyInfoWidget","IndividualInfoWidget","InfoWidgetBadges","OptionalEntityTypeLegacyAPI","InfoWidgetDomain","InfoWidgetRange","InfoWidgetPropertyAssertion","InfoWidgetPropertyCharacteristics","NavigateToEBIPage"];export{x as IndividualInfoWidget,I as InfoWidgetBadges,O as InfoWidgetDomain,w as InfoWidgetPropertyAssertion,A as InfoWidgetPropertyCharacteristics,S as InfoWidgetRange,D as NavigateToEBIPage,j as OptionalEntityTypeLegacyAPI,E as PropertyInfoWidget,N as TermInfoWidget,Ft as __namedExportsOrder,Wt as default};
